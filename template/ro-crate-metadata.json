{
  "@context": [
    "https://w3id.org/ro/crate/1.1/context"
  ],
  "@graph": [
    {
      "@type": "CreativeWork",
      "@id": "ro-crate-metadata.json",
      "conformsTo": {
        "@id": "https://w3id.org/ro/crate/1.1"
      },
      "about": {
        "@id": "./"
      }
    },
    {
      "@id": "./",
      "@type": [
        "Dataset",
        "Service",
        "SoftwareApplication"
      ],
      "datePublished": "2024-01-01",
      "URL": "https://github.com/grycap/oscar-hub/tree/main/crates/template",
      "name": "YOUR Service Name",
      "description": "Briefly describe what your OSCAR service does, the type of workload it accepts, and what users can expect as output.",
      "license": {
        "@id": "https://www.apache.org/licenses/LICENSE-2.0"
      },
      "applicationCategory": "OSCAR Service",
      "memoryRequirements": "2 GiB",
      "processorRequirements": [
        "1 vCPU",
        "0 GPU"
      ],
      "serviceType": [
        "synchronous",
        "asynchronous"
      ],
      "isBasedOn": [
        {
          "@id": "https://example.com/your-upstream-project"
        }
      ],
      "author": {
        "@id": "https://orcid.org/0000-0000-0000-0000"
      },
      "subjectOf": [
        {
          "@id": "#acceptance-test-sync"
        },
        {
          "@id": "#acceptance-test-async"
        }
      ],
      "hasPart": [
        {
          "@id": "fdl.yml"
        },
        {
          "@id": "script.sh"
        },
        {
          "@id": "icon.png"
        },
        {
          "@id": "sample-input.txt"
        }
      ]
    },
    {
      "@id": "fdl.yml",
      "@type": [
        "File",
        "SoftwareSourceCode"
      ],
      "name": "Service Definition (FDL)",
      "url": "https://raw.githubusercontent.com/grycap/oscar-hub/refs/heads/main/crates/template/fdl.yaml",
      "encodingFormat": "text/yaml"
    },
    {
      "@id": "script.sh",
      "@type": [
        "File",
        "SoftwareSourceCode"
      ],
      "name": "Service Execution Script",
      "url": "https://raw.githubusercontent.com/grycap/oscar-hub/refs/heads/main/crates/template/script.sh",
      "encodingFormat": "text/x-shellscript"
    },
    {
      "@id": "icon.png",
      "@type": [
        "File",
        "ImageObject"
      ],
      "name": "Service Icon",
      "url": "https://raw.githubusercontent.com/grycap/oscar-hub/refs/heads/main/crates/template/icon.png",
      "encodingFormat": "image/png"
    },
    {
      "@id": "sample-input.txt",
      "@type": [
        "File",
        "TextDigitalDocument"
      ],
      "name": "Sample Input Placeholder",
      "description": "Replace this entry with a representative input file for your service.",
      "url": "https://example.com/path/to/sample-input.txt",
      "encodingFormat": "text/plain"
    },
    {
      "@id": "#acceptance-test-sync",
      "@type": "HowTo",
      "name": "Synchronous client acceptance test",
      "description": "Execute the service with the sample input and verify the output locally.",
      "tool": [
        {
          "@id": "#tool-service-client"
        }
      ],
      "supply": [
        {
          "@id": "#supply-sample-input"
        }
      ],
      "step": [
        {
          "@id": "#step-sync-run"
        }
      ]
    },
    {
      "@id": "#acceptance-test-async",
      "@type": "HowTo",
      "name": "Asynchronous client acceptance test",
      "description": "Upload the sample input, wait for remote processing to finish, then download and validate the latest output.",
      "tool": [
        {
          "@id": "#tool-service-client"
        }
      ],
      "supply": [
        {
          "@id": "#supply-sample-input"
        }
      ],
      "step": [
        {
          "@id": "#step-async-put"
        },
        {
          "@id": "#step-async-wait"
        },
        {
          "@id": "#step-async-get"
        }
      ]
    },
    {
      "@id": "#tool-service-client",
      "@type": "HowToTool",
      "name": "Client application",
      "item": {
        "@id": "#service-client"
      }
    },
    {
      "@id": "#supply-sample-input",
      "@type": "HowToSupply",
      "name": "Sample input artifact",
      "item": {
        "@id": "sample-input.txt"
      }
    },
    {
      "@id": "#expected-output-text",
      "@type": "PropertyValue",
      "name": "Expected output substring",
      "value": "EXPECTED OUTPUT SNIPPET"
    },
    {
      "@id": "#expected-output-file",
      "@type": [
        "File",
        "MediaObject"
      ],
      "name": "Expected output artifact",
      "description": "Replace with a short description of the file generated by your service (e.g., annotated image, CSV report).",
      "encodingFormat": "media/type"
    },
    {
      "@id": "#step-sync-run",
      "@type": "HowToStep",
      "position": 1,
      "text": "Run the service using your preferred client with the provided sample input.",
      "potentialAction": {
        "@id": "#action-sync-run"
      }
    },
    {
      "@id": "#step-async-put",
      "@type": "HowToStep",
      "position": 1,
      "text": "Upload the sample input to the service storage using your client.",
      "potentialAction": {
        "@id": "#action-async-put"
      }
    },
    {
      "@id": "#step-async-wait",
      "@type": "HowToStep",
      "position": 2,
      "text": "Wait a suitable amount of time for the execution to complete before retrieving results.",
      "timeRequired": "PT20S"
    },
    {
      "@id": "#step-async-get",
      "@type": "HowToStep",
      "position": 3,
      "text": "Download the most recent output and confirm it matches the expected content (text or file).",
      "potentialAction": {
        "@id": "#action-async-get"
      }
    },
    {
      "@id": "#action-sync-run",
      "@type": "ConsumeAction",
      "name": "service run",
      "object": {
        "@id": "sample-input.txt"
      },
      "target": {
        "@id": "#entry-sync-run"
      },
      "result": {
        "@id": "#expected-output-text"
      },
      "additionalProperty": [
        {
          "@id": "#command-template-sync-run"
        }
      ]
    },
    {
      "@id": "#entry-sync-run",
      "@type": "EntryPoint",
      "actionApplication": {
        "@id": "#service-client"
      }
    },
    {
      "@id": "#command-template-sync-run",
      "@type": "PropertyValue",
      "propertyID": "commandTemplate",
      "value": "oscar-cli service run your-service-id -i {input}"
    },
    {
      "@id": "#action-async-put",
      "@type": "TransferAction",
      "name": "service put-file",
      "object": {
        "@id": "sample-input.txt"
      },
      "target": {
        "@id": "#entry-async-put"
      },
      "additionalProperty": [
        {
          "@id": "#command-template-async-put"
        }
      ]
    },
    {
      "@id": "#entry-async-put",
      "@type": "EntryPoint",
      "actionApplication": {
        "@id": "#service-client"
      }
    },
    {
      "@id": "#command-template-async-put",
      "@type": "PropertyValue",
      "propertyID": "commandTemplate",
      "value": "oscar-cli service put-file your-service-id {source}"
    },
    {
      "@id": "#action-async-get",
      "@type": "TransferAction",
      "name": "service get-file",
      "target": {
        "@id": "#entry-async-get"
      },
      "result": {
        "@id": "#expected-output-text"
      },
      "additionalProperty": [
        {
          "@id": "#command-template-async-get"
        }
      ]
    },
    {
      "@id": "#entry-async-get",
      "@type": "EntryPoint",
      "actionApplication": {
        "@id": "#service-client"
      }
    },
    {
      "@id": "#command-template-async-get",
      "@type": "PropertyValue",
      "propertyID": "commandTemplate",
      "value": "oscar-cli service get-file your-service-id --download-latest-into {destination}"
    },
    {
      "@id": "https://orcid.org/0000-0000-0000-0000",
      "@type": "Person",
      "name": "Your Name",
      "affiliation": {
        "@id": "https://example.com/your-organisation"
      }
    },
    {
      "@id": "https://example.com/your-organisation",
      "@type": "Organization",
      "name": "Your Organisation",
      "url": "https://example.com"
    },
    {
      "@id": "https://www.apache.org/licenses/LICENSE-2.0",
      "@type": "CreativeWork",
      "name": "Apache License 2.0",
      "identifier": "SPDX:Apache-2.0"
    },
    {
      "@id": "https://example.com/your-upstream-project",
      "@type": "SoftwareApplication",
      "name": "Upstream Project",
      "description": "Reference to the software, dataset, or workflow your service builds upon."
    },
    {
      "@id": "#service-client",
      "@type": "SoftwareApplication",
      "name": "Client Application (e.g., OSCAR CLI)",
      "url": "https://example.com/client-application",
      "description": "Replace with the client or toolkit users should employ to interact with the service."
    }
  ]
}
